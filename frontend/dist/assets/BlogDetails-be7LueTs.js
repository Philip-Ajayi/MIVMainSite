import{b as N,r as l,j as e,L as x}from"./index-zlj08X_R.js";import{a as m}from"./axios-upsvKRUO.js";import{R as y}from"./index-DzQncRKk.js";const v=(a,s=100)=>{const c=a.replace(/<[^>]+>/g,"");return c.length>s?c.substring(0,s)+"...":c},R=()=>{const{id:a}=N(),[s,c]=l.useState(null),[g,n]=l.useState(!0),[i,h]=l.useState(null),[o,j]=l.useState([]),[u,d]=l.useState(!0);return l.useEffect(()=>{(async()=>{try{const r=await m.get(`/blog/blogs/${a}`);c(r.data.blog||r.data),n(!1)}catch{h("Failed to fetch blog details."),n(!1)}})()},[a]),l.useEffect(()=>{(async()=>{try{const b=(await m.get("/blog/blogs")).data.filter(f=>String(f._id)!==String(a)).slice(0,3);j(b),d(!1)}catch(r){console.error("Failed to fetch posts",r),d(!1)}})()},[a]),g?e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:e.jsx("div",{className:"text-gray-600 text-lg",children:"Loading..."})}):i?e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:e.jsx("div",{className:"text-red-600 text-lg",children:i})}):s?e.jsx("div",{className:"min-h-screen bg-gray-100 py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:[s.image&&e.jsx("img",{src:s.image,alt:s.title,className:"w-full h-64 sm:h-80 md:h-96 object-cover"}),e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:s.title}),e.jsx("div",{className:"mb-4",children:e.jsx("span",{className:"inline-block bg-blue-200 text-blue-800 text-xs px-2 py-1 rounded-full",children:s.category})}),e.jsxs("div",{className:"text-sm text-gray-500 mb-6",children:[e.jsxs("span",{children:["By ",e.jsx("span",{className:"font-medium",children:s.author})]}),e.jsx("span",{className:"mx-2",children:"|"}),e.jsx("span",{children:new Date(s.date).toLocaleDateString()})]}),e.jsx("div",{className:"text-gray-700 text-base leading-relaxed",children:e.jsx(y,{value:s.body,readOnly:!0,theme:"bubble"})})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Recent Posts"}),u?e.jsx("p",{className:"text-gray-600",children:"Loading recent posts..."}):o.length>0?o.map(t=>e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[t.image&&e.jsx("img",{src:t.image,alt:t.title,className:"w-16 h-16 object-cover rounded mr-4"}),e.jsxs("div",{children:[e.jsx(x,{to:`/blogs/${t._id}`,className:"text-lg font-semibold text-gray-800 hover:underline",children:t.title}),e.jsx("div",{className:"text-sm text-gray-500",children:new Date(t.date).toLocaleDateString()})]})]}),e.jsx("p",{className:"mt-2 text-gray-700 text-sm",children:v(t.body,100)}),e.jsx(x,{to:`/blogs/${t._id}`,className:"text-blue-500 hover:underline text-sm mt-1 inline-block",children:"See More"})]},t._id)):e.jsx("p",{className:"text-gray-600",children:"No recent posts available."})]})})})]})}):e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:e.jsx("div",{className:"text-gray-600 text-lg",children:"Blog not found."})})};export{R as default};
