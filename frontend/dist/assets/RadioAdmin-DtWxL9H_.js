import{r as a,j as e,A as G,m as i}from"./index-zlj08X_R.js";function Y(){const[l,_]=a.useState(0),[m,x]=a.useState(""),[p,b]=a.useState(""),[j,y]=a.useState(""),o=Intl.DateTimeFormat().resolvedOptions().timeZone,[Z,I]=a.useState([]),[N,h]=a.useState(null),[g,S]=a.useState(""),[f,v]=a.useState(""),[w,C]=a.useState(""),[T,E]=a.useState(""),[D,k]=a.useState(""),[$,z]=a.useState([]),[q,u]=a.useState(null),[O,L]=a.useState(""),[A,P]=a.useState("");a.useEffect(()=>{c(),d()},[]);const c=async()=>{try{const s=await(await fetch("/radio/schedule/all")).json();I(s)}catch(t){console.error("Error fetching schedules:",t)}},d=async()=>{try{const s=await(await fetch("/radio/chatsession/all")).json();z(s)}catch(t){console.error("Error fetching chat sessions:",t)}},J=async t=>{t.preventDefault();const s={name:m,description:p,scheduleTime:j,timeZone:o};try{await fetch("/radio/schedule",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),c(),x(""),b(""),y("")}catch(r){console.error("Error creating schedule:",r)}},R=async t=>{t.preventDefault();const s={name:g,description:f,scheduleTime:w,timeZone:o};try{await fetch(`/radio/schedule/${N._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),c(),h(null)}catch(r){console.error("Error updating schedule:",r)}},U=async t=>{if(window.confirm("Are you sure you want to delete this schedule?"))try{await fetch(`/radio/schedule/${t}`,{method:"DELETE"}),c()}catch(s){console.error("Error deleting schedule:",s)}},B=async t=>{t.preventDefault();const s={startTime:T,endTime:D};try{await fetch("/radio/chatsession",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),d(),E(""),k("")}catch(r){console.error("Error creating chat session:",r)}},K=async t=>{t.preventDefault();const s={startTime:O,endTime:A};try{await fetch(`/radio/chatsession/${q._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),d(),u(null)}catch(r){console.error("Error updating chat session:",r)}},F=async t=>{if(window.confirm("Are you sure you want to delete this chat session?"))try{await fetch(`/radio/chatsession/${t}`,{method:"DELETE"}),d()}catch(s){console.error("Error deleting chat session:",s)}},n={server:"link.zeno.fm",port:"80",mount:"/qqgdtv5o3isuv",username:"source",password:"BKugcIgK"};return e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsx("div",{className:"flex flex-wrap space-x-4 border-b mb-4",children:["Create Schedule","List Schedules","Create Chat Session","List Chat Sessions","Radio Credentials"].map((t,s)=>e.jsx("button",{onClick:()=>_(s),className:`py-2 px-4 focus:outline-none ${l===s?"border-b-2 border-blue-500 text-blue-500":"text-gray-600"}`,children:t},s))}),e.jsxs(G,{exitBeforeEnter:!0,children:[l===0&&e.jsxs(i.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Create Schedule"}),e.jsxs("form",{onSubmit:J,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Name"}),e.jsx("input",{type:"text",value:m,onChange:t=>x(t.target.value),className:"w-full border rounded p-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Description"}),e.jsx("textarea",{value:p,onChange:t=>b(t.target.value),className:"w-full border rounded p-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Schedule Time"}),e.jsx("input",{type:"datetime-local",value:j,onChange:t=>y(t.target.value),className:"w-full border rounded p-2",required:!0})]}),e.jsx("div",{children:e.jsxs("p",{children:["Your Time Zone: ",e.jsx("strong",{children:o})]})}),e.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Create Schedule"})]})]},"create-schedule"),l===1&&e.jsxs(i.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"List Schedules"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full border",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"p-2 border",children:"Name"}),e.jsx("th",{className:"p-2 border",children:"Time"}),e.jsx("th",{className:"p-2 border",children:"Actions"})]})}),e.jsx("tbody",{children:Z.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 border",children:t.name}),e.jsx("td",{className:"p-2 border",children:new Date(t.scheduleTime).toLocaleString()}),e.jsxs("td",{className:"p-2 border space-x-2",children:[e.jsx("button",{onClick:()=>{h(t),S(t.name),v(t.description),C(new Date(t.scheduleTime).toISOString().slice(0,16))},className:"bg-green-500 text-white px-2 py-1 rounded",children:"Edit"}),e.jsx("button",{onClick:()=>U(t._id),className:"bg-red-500 text-white px-2 py-1 rounded",children:"Delete"})]})]},t._id))})]})})]},"list-schedules"),l===2&&e.jsxs(i.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Create Chat Session"}),e.jsxs("form",{onSubmit:B,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Start Time"}),e.jsx("input",{type:"datetime-local",value:T,onChange:t=>E(t.target.value),className:"w-full border rounded p-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"End Time"}),e.jsx("input",{type:"datetime-local",value:D,onChange:t=>k(t.target.value),className:"w-full border rounded p-2",required:!0})]}),e.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Create Chat Session"})]})]},"create-chat"),l===3&&e.jsxs(i.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"List Chat Sessions"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full border",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"p-2 border",children:"Start Time"}),e.jsx("th",{className:"p-2 border",children:"End Time"}),e.jsx("th",{className:"p-2 border",children:"Actions"})]})}),e.jsx("tbody",{children:$.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 border",children:new Date(t.startTime).toLocaleString()}),e.jsx("td",{className:"p-2 border",children:new Date(t.endTime).toLocaleString()}),e.jsxs("td",{className:"p-2 border space-x-2",children:[e.jsx("button",{onClick:()=>{u(t),L(new Date(t.startTime).toISOString().slice(0,16)),P(new Date(t.endTime).toISOString().slice(0,16))},className:"bg-green-500 text-white px-2 py-1 rounded",children:"Edit"}),e.jsx("button",{onClick:()=>F(t._id),className:"bg-red-500 text-white px-2 py-1 rounded",children:"Delete"})]})]},t._id))})]})})]},"list-chat"),l===4&&e.jsxs(i.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Radio Credentials"}),e.jsxs("div",{className:"p-4 border rounded space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Server:"})," ",n.server]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Port:"})," ",n.port]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Mount:"})," ",n.mount]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Username:"})," ",n.username]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Password:"})," ",n.password]})]}),e.jsx("div",{className:"mt-4",children:e.jsx("a",{href:"https://dashboard.zeno.fm",target:"_blank",rel:"noopener noreferrer",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Go to Zeno Dashboard"})})]},"radio-credentials")]}),N&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs(i.div,{className:"bg-white rounded p-4 max-h-full overflow-y-auto w-11/12 md:w-1/2",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Edit Schedule"}),e.jsxs("form",{onSubmit:R,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Name"}),e.jsx("input",{type:"text",value:g,onChange:t=>S(t.target.value),className:"w-full border rounded p-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Description"}),e.jsx("textarea",{value:f,onChange:t=>v(t.target.value),className:"w-full border rounded p-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Schedule Time"}),e.jsx("input",{type:"datetime-local",value:w,onChange:t=>C(t.target.value),className:"w-full border rounded p-2",required:!0})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Save Changes"}),e.jsx("button",{type:"button",onClick:()=>h(null),className:"bg-gray-500 text-white px-4 py-2 rounded",children:"Cancel"})]})]})]})}),q&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs(i.div,{className:"bg-white rounded p-4 max-h-full overflow-y-auto w-11/12 md:w-1/2",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Edit Chat Session"}),e.jsxs("form",{onSubmit:K,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Start Time"}),e.jsx("input",{type:"datetime-local",value:O,onChange:t=>L(t.target.value),className:"w-full border rounded p-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"End Time"}),e.jsx("input",{type:"datetime-local",value:A,onChange:t=>P(t.target.value),className:"w-full border rounded p-2",required:!0})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Save Changes"}),e.jsx("button",{type:"button",onClick:()=>u(null),className:"bg-gray-500 text-white px-4 py-2 rounded",children:"Cancel"})]})]})]})})]})}export{Y as default};
