import{k as y,r as n,R as e,L as d}from"./index-C79FXdrX.js";import{a as x}from"./axios-upsvKRUO.js";const v=(l,t=100)=>{const s=l.replace(/<[^>]+>/g,"");return s.length>t?s.substring(0,t)+"...":s},p=l=>l.replace(/#(\w+)/g,(t,s)=>`<a href="/blog?search=${encodeURIComponent(s)}" class="text-blue-500 hover:underline">${t}</a>`),R=()=>{const{id:l}=y(),[t,s]=n.useState(null),[b,m]=n.useState(!0),[o,u]=n.useState(null),[g,E]=n.useState([]),[f,i]=n.useState(!0);return n.useEffect(()=>{(async()=>{try{const r=await x.get(`/blog/blogs/${l}`),c=r.data.blog||r.data;c.body=p(c.body),s(c),m(!1)}catch{u("Failed to fetch blog details."),m(!1)}})()},[l]),n.useEffect(()=>{(async()=>{try{const h=(await x.get("/blog/blogs")).data.filter(N=>String(N._id)!==String(l));E(h.slice(0,3)),i(!1)}catch(r){console.error("Failed to fetch posts",r),i(!1)}})()},[l]),b?e.createElement("div",{className:"flex items-center justify-center min-h-screen bg-gray-100"},e.createElement("div",{className:"text-gray-600 text-lg lg:text-xl"},"Loading...")):o?e.createElement("div",{className:"flex items-center justify-center min-h-screen bg-gray-100"},e.createElement("div",{className:"text-red-600 text-lg lg:text-xl"},o)):t?e.createElement("div",{className:"min-h-screen bg-gray-100 py-8 px-4 sm:px-6 lg:px-8"},e.createElement("div",{className:"max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-8"},e.createElement("div",{className:"lg:col-span-2"},e.createElement("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden"},t.image&&e.createElement("img",{src:t.image,alt:t.title,className:"w-full h-64 sm:h-80 md:h-96 object-cover"}),e.createElement("div",{className:"p-6 sm:p-8"},e.createElement("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-gray-800 mb-4"},t.title),e.createElement("div",{className:"mb-4"},e.createElement("span",{className:"inline-block bg-blue-200 text-blue-800 text-xs lg:text-sm px-2 py-1 rounded-full"},t.category)),e.createElement("div",{className:"text-sm lg:text-base text-gray-500 mb-6"},t.author!=="Ope Rowland"&&e.createElement(e.Fragment,null,e.createElement("span",null,"Edited by ",e.createElement("span",{className:"font-medium"},t.author)),e.createElement("span",{className:"mx-2"},"|")),e.createElement("span",null,new Date(t.date).toLocaleDateString())),e.createElement("div",{className:"text-gray-700 text-base lg:text-lg leading-relaxed"},e.createElement("div",{className:"ql-editor",dangerouslySetInnerHTML:{__html:t.body}}))))),e.createElement("div",{className:"lg:col-span-1"},e.createElement("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden"},e.createElement("div",{className:"p-6 sm:p-8"},e.createElement("h2",{className:"text-xl lg:text-2xl font-bold text-gray-800 mb-4"},"Recent Posts"),f?e.createElement("p",{className:"text-gray-600 text-base lg:text-lg"},"Loading recent posts..."):g.length>0?g.map(a=>e.createElement("div",{key:a._id,className:"mb-6"},e.createElement("div",{className:"flex items-center"},a.image&&e.createElement("img",{src:a.image,alt:a.title,className:"w-16 h-16 object-cover rounded mr-4"}),e.createElement("div",null,e.createElement(d,{to:`/blog/${a._id}`,className:"text-lg lg:text-xl font-semibold text-gray-800 hover:underline"},a.title),e.createElement("div",{className:"text-sm lg:text-base text-gray-500"},new Date(a.date).toLocaleDateString()))),e.createElement("p",{className:"mt-2 text-gray-700 text-sm lg:text-base"},v(a.body,100)),e.createElement(d,{to:`/blog/${a._id}`,className:"text-blue-500 hover:underline text-sm lg:text-base mt-1 inline-block"},"See More"))):e.createElement("p",{className:"text-gray-600 text-base lg:text-lg"},"No recent posts available.")))))):e.createElement("div",{className:"flex items-center justify-center min-h-screen bg-gray-100"},e.createElement("div",{className:"text-gray-600 text-lg lg:text-xl"},"Blog not found."))};export{R as default};
