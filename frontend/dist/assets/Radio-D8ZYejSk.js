import{r as s,j as e,m as o}from"./index-zlj08X_R.js";import{a as n}from"./axios-upsvKRUO.js";const T="/assets/xlogo-D7jQRCoH.png",k=()=>{const E="https://stream-175.zeno.fm/qqgdtv5o3isuv?zt=eyJhbGciOiJIUzI1NiJ9.eyJzdHJlYW0iOiJxcWdkdHY1bzNpc3V2IiwiaG9zdCI6InN0cmVhbS0xNzUuemVuby5mbSIsInJ0dGwiOjUsImp0aSI6IkMtU1lkY2dQUmphVllwRlhHSDBrbnciLCJpYXQiOjE3MzkyNTQyNzAsImV4cCI6MTczOTI1NDMzMH0.jC0UwgRTNlkcWPDofZQmtP3HftoqunVxEd3EjGF9l9w",[m,x]=s.useState(!1),i=s.useRef(null),[h,u]=s.useState(null),[g,p]=s.useState(null),[P,y]=s.useState([]),[a,f]=s.useState(null),[A,c]=s.useState([]),[r,l]=s.useState({userName:"",comment:""}),N=async()=>{try{const t=await n.get("/radio/schedule/now");u(t.data)}catch(t){console.error("Error fetching now playing:",t),u(null)}},b=async()=>{try{const t=await n.get("/radio/schedule/next");p(t.data)}catch(t){console.error("Error fetching next playing:",t),p(null)}},j=async()=>{try{const t=await n.get("/radio/schedule/future");y(Array.isArray(t.data)?t.data:[])}catch(t){console.error("Error fetching schedule:",t),y([])}},w=async()=>{try{const d=(await n.get("/radio/chatsession/all")).data,S=new Date,R=d.find(C=>{const z=new Date(C.startTime),J=new Date(C.endTime);return z<=S&&J>=S});f(R)}catch(t){console.error("Error fetching active chat session:",t),f(null)}},v=async()=>{if(!a){c([]);return}try{const t=await n.get(`/radio/chatsession/${a._id}/comments`);c(Array.isArray(t.data)?t.data:[])}catch(t){console.error("Error fetching chat messages:",t),c([])}};s.useEffect(()=>{N(),b(),j(),w();const t=setInterval(()=>{N(),b(),j(),w()},1e4);return()=>clearInterval(t)},[]),s.useEffect(()=>{v()},[a]);const I=()=>{m?(i.current.pause(),x(!1)):(i.current.play(),x(!0))},D=async t=>{if(t.preventDefault(),!!a)try{await n.post(`${baseUrl}/radio/chatsession/${a._id}/comment`,{name:r.userName,comment:r.comment}),l({userName:"",comment:""}),v()}catch(d){console.error("Error sending chat message:",d)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 py-8 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs(o.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8},className:"flex flex-col items-center mb-12",children:[e.jsx("img",{src:T,alt:"Radio Logo",className:"h-28 w-auto mb-4"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-800 text-center",children:"Expression Radio"}),e.jsx("p",{className:"mt-2 text-lg md:text-xl text-gray-600 text-center max-w-2xl",children:"Strong in Sound! Vigorous in Vibe! Victorious in Voice!"})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-12",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("audio",{ref:i,src:E,preload:"none"}),e.jsx("button",{onClick:I,className:"mb-6 bg-gradient-to-r from-purple-500 to-indigo-500 hover:from-purple-600 hover:to-indigo-600 text-white px-8 py-3 rounded-full focus:outline-none transition duration-300",children:m?"Pause":"Play"}),e.jsxs("div",{className:"text-center",children:[e.jsxs(o.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"text-2xl font-semibold text-gray-800",children:["Now Playing: ",e.jsx("span",{className:"text-indigo-600",children:h?h.name:"N/A"})]}),e.jsxs(o.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},className:"text-lg text-gray-600 mt-1",children:["Next Playing: ",e.jsx("span",{className:"text-indigo-500",children:g?g.name:"N/A"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-12",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[e.jsx("div",{className:"md:w-1/2 flex justify-center mb-6 md:mb-0",children:e.jsx("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS8rYejO4FtGX9dlJ1_hFCFJs26RCrbr7A0jA&s",alt:"About Us",className:"rounded-xl shadow-lg w-64 h-64 object-cover"})}),e.jsxs("div",{className:"md:w-1/2 md:pl-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"About Us"}),e.jsx("p",{className:"text-gray-700 mb-3",children:"Expression Radio is more than just an online station—it’s a movement. Created as an extension of our church’s vision, Expression Radio is a platform where faith, creativity, and culture collide."}),e.jsx("p",{className:"text-gray-700 mb-3",children:"Our mission is to inspire, uplift, and connect people through powerful messages, dynamic worship, and engaging discussions on topics that matter."}),e.jsx("p",{className:"text-gray-700",children:"Whether you’re tuning in for live worship sessions or thoughtful conversations, you’re an essential part of our community. Let your spirit soar with every beat and every word."})]})]})}),e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 text-center mb-6",children:"Our Schedule"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:P.map(t=>e.jsxs(o.div,{whileHover:{scale:1.03},className:"bg-white rounded-xl shadow-md p-5 transition transform hover:shadow-xl",children:[e.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-2",children:t.name}),e.jsxs("p",{className:"text-gray-600 text-sm mb-2",children:[new Date(t.scheduleTime).toLocaleDateString()," at"," ",new Date(t.scheduleTime).toLocaleTimeString()]}),e.jsx("p",{className:"text-gray-700",children:t.description})]},t._id))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 text-center mb-6",children:"Chat"}),a?e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"h-64 overflow-y-auto mb-4 border border-gray-200 rounded-lg p-4",children:A.map(t=>e.jsxs("div",{className:"mb-3",children:[e.jsxs("p",{className:"text-sm",children:[e.jsxs("span",{className:"font-bold text-indigo-600",children:[t.name,":"]})," ",t.comment]}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(t.createdAt).toLocaleTimeString()})]},t._id))}),e.jsxs("form",{onSubmit:D,className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("input",{type:"text",placeholder:"Your name",value:r.userName,onChange:t=>l({...r,userName:t.target.value}),className:"flex-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400",required:!0}),e.jsx("input",{type:"text",placeholder:"Your comment",value:r.comment,onChange:t=>l({...r,comment:t.target.value}),className:"flex-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400",required:!0}),e.jsx("button",{type:"submit",className:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-lg transition",children:"Send"})]})]}):e.jsx("div",{className:"bg-gray-100 p-6 rounded-lg text-center",children:e.jsx("p",{className:"text-gray-700",children:"Chat is currently closed. Please check back later."})})]})]})})};export{k as default};
