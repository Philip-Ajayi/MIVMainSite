import{r as l,R as e,A as G,m as n}from"./index-BeF0K1pZ.js";function Y(){const[c,_]=l.useState(0),[p,h]=l.useState(""),[E,b]=l.useState(""),[y,x]=l.useState(""),m=Intl.DateTimeFormat().resolvedOptions().timeZone,[Z,I]=l.useState([]),[N,d]=l.useState(null),[g,S]=l.useState(""),[f,v]=l.useState(""),[w,C]=l.useState(""),[T,k]=l.useState(""),[D,q]=l.useState(""),[R,$]=l.useState([]),[O,u]=l.useState(null),[L,j]=l.useState(""),[A,P]=l.useState("");l.useEffect(()=>{o(),i()},[]);const o=async()=>{try{const a=await(await fetch("/radio/schedule/all")).json();I(a)}catch(t){console.error("Error fetching schedules:",t)}},i=async()=>{try{const a=await(await fetch("/radio/chatsession/all")).json();$(a)}catch(t){console.error("Error fetching chat sessions:",t)}},z=async t=>{t.preventDefault();const a={name:p,description:E,scheduleTime:y,timeZone:m};try{await fetch("/radio/schedule",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),o(),h(""),b(""),x("")}catch(r){console.error("Error creating schedule:",r)}},J=async t=>{t.preventDefault();const a={name:g,description:f,scheduleTime:w,timeZone:m};try{await fetch(`/radio/schedule/${N._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),o(),d(null)}catch(r){console.error("Error updating schedule:",r)}},U=async t=>{if(window.confirm("Are you sure you want to delete this schedule?"))try{await fetch(`/radio/schedule/${t}`,{method:"DELETE"}),o()}catch(a){console.error("Error deleting schedule:",a)}},B=async t=>{t.preventDefault();const a={startTime:T,endTime:D};try{await fetch("/radio/chatsession",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),i(),k(""),q("")}catch(r){console.error("Error creating chat session:",r)}},K=async t=>{t.preventDefault();const a={startTime:L,endTime:A};try{await fetch(`/radio/chatsession/${O._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),i(),u(null)}catch(r){console.error("Error updating chat session:",r)}},F=async t=>{if(window.confirm("Are you sure you want to delete this chat session?"))try{await fetch(`/radio/chatsession/${t}`,{method:"DELETE"}),i()}catch(a){console.error("Error deleting chat session:",a)}},s={server:"link.zeno.fm",port:"80",mount:"/qqgdtv5o3isuv",username:"source",password:"BKugcIgK"};return e.createElement("div",{className:"container mx-auto p-4"},e.createElement("div",{className:"flex flex-wrap space-x-4 border-b mb-4"},["Create Schedule","List Schedules","Create Chat Session","List Chat Sessions","Radio Credentials"].map((t,a)=>e.createElement("button",{key:a,onClick:()=>_(a),className:`py-2 px-4 focus:outline-none ${c===a?"border-b-2 border-blue-500 text-blue-500":"text-gray-600"}`},t))),e.createElement(G,{exitBeforeEnter:!0},c===0&&e.createElement(n.div,{key:"create-schedule",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20}},e.createElement("h2",{className:"text-xl font-bold mb-4"},"Create Schedule"),e.createElement("form",{onSubmit:z,className:"space-y-4"},e.createElement("div",null,e.createElement("label",{className:"block mb-1"},"Name"),e.createElement("input",{type:"text",value:p,onChange:t=>h(t.target.value),className:"w-full border rounded p-2",required:!0})),e.createElement("div",null,e.createElement("label",{className:"block mb-1"},"Description"),e.createElement("textarea",{value:E,onChange:t=>b(t.target.value),className:"w-full border rounded p-2"})),e.createElement("div",null,e.createElement("label",{className:"block mb-1"},"Schedule Time"),e.createElement("input",{type:"datetime-local",value:y,onChange:t=>x(t.target.value),className:"w-full border rounded p-2",required:!0})),e.createElement("div",null,e.createElement("p",null,"Your Time Zone: ",e.createElement("strong",null,m))),e.createElement("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded"},"Create Schedule"))),c===1&&e.createElement(n.div,{key:"list-schedules",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20}},e.createElement("h2",{className:"text-xl font-bold mb-4"},"List Schedules"),e.createElement("div",{className:"overflow-x-auto"},e.createElement("table",{className:"min-w-full border"},e.createElement("thead",null,e.createElement("tr",{className:"bg-gray-100"},e.createElement("th",{className:"p-2 border"},"Name"),e.createElement("th",{className:"p-2 border"},"Time"),e.createElement("th",{className:"p-2 border"},"Actions"))),e.createElement("tbody",null,Z.map(t=>e.createElement("tr",{key:t._id},e.createElement("td",{className:"p-2 border"},t.name),e.createElement("td",{className:"p-2 border"},new Date(t.scheduleTime).toLocaleString()),e.createElement("td",{className:"p-2 border space-x-2"},e.createElement("button",{onClick:()=>{d(t),S(t.name),v(t.description),C(new Date(t.scheduleTime).toISOString().slice(0,16))},className:"bg-green-500 text-white px-2 py-1 rounded"},"Edit"),e.createElement("button",{onClick:()=>U(t._id),className:"bg-red-500 text-white px-2 py-1 rounded"},"Delete")))))))),c===2&&e.createElement(n.div,{key:"create-chat",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20}},e.createElement("h2",{className:"text-xl font-bold mb-4"},"Create Chat Session"),e.createElement("form",{onSubmit:B,className:"space-y-4"},e.createElement("div",null,e.createElement("label",{className:"block mb-1"},"Start Time"),e.createElement("input",{type:"datetime-local",value:T,onChange:t=>k(t.target.value),className:"w-full border rounded p-2",required:!0})),e.createElement("div",null,e.createElement("label",{className:"block mb-1"},"End Time"),e.createElement("input",{type:"datetime-local",value:D,onChange:t=>q(t.target.value),className:"w-full border rounded p-2",required:!0})),e.createElement("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded"},"Create Chat Session"))),c===3&&e.createElement(n.div,{key:"list-chat",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20}},e.createElement("h2",{className:"text-xl font-bold mb-4"},"List Chat Sessions"),e.createElement("div",{className:"overflow-x-auto"},e.createElement("table",{className:"min-w-full border"},e.createElement("thead",null,e.createElement("tr",{className:"bg-gray-100"},e.createElement("th",{className:"p-2 border"},"Start Time"),e.createElement("th",{className:"p-2 border"},"End Time"),e.createElement("th",{className:"p-2 border"},"Actions"))),e.createElement("tbody",null,R.map(t=>e.createElement("tr",{key:t._id},e.createElement("td",{className:"p-2 border"},new Date(t.startTime).toLocaleString()),e.createElement("td",{className:"p-2 border"},new Date(t.endTime).toLocaleString()),e.createElement("td",{className:"p-2 border space-x-2"},e.createElement("button",{onClick:()=>{u(t),j(new Date(t.startTime).toISOString().slice(0,16)),P(new Date(t.endTime).toISOString().slice(0,16))},className:"bg-green-500 text-white px-2 py-1 rounded"},"Edit"),e.createElement("button",{onClick:()=>F(t._id),className:"bg-red-500 text-white px-2 py-1 rounded"},"Delete")))))))),c===4&&e.createElement(n.div,{key:"radio-credentials",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20}},e.createElement("h2",{className:"text-xl font-bold mb-4"},"Radio Credentials"),e.createElement("div",{className:"p-4 border rounded space-y-2"},e.createElement("p",null,e.createElement("strong",null,"Server:")," ",s.server),e.createElement("p",null,e.createElement("strong",null,"Port:")," ",s.port),e.createElement("p",null,e.createElement("strong",null,"Mount:")," ",s.mount),e.createElement("p",null,e.createElement("strong",null,"Username:")," ",s.username),e.createElement("p",null,e.createElement("strong",null,"Password:")," ",s.password)),e.createElement("div",{className:"mt-4"},e.createElement("a",{href:"https://dashboard.zeno.fm",target:"_blank",rel:"noopener noreferrer",className:"bg-blue-500 text-white px-4 py-2 rounded"},"Go to Zeno Dashboard")))),N&&e.createElement("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},e.createElement(n.div,{className:"bg-white rounded p-4 max-h-full overflow-y-auto w-11/12 md:w-1/2",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8}},e.createElement("h2",{className:"text-xl font-bold mb-4"},"Edit Schedule"),e.createElement("form",{onSubmit:J,className:"space-y-4"},e.createElement("div",null,e.createElement("label",{className:"block mb-1"},"Name"),e.createElement("input",{type:"text",value:g,onChange:t=>S(t.target.value),className:"w-full border rounded p-2",required:!0})),e.createElement("div",null,e.createElement("label",{className:"block mb-1"},"Description"),e.createElement("textarea",{value:f,onChange:t=>v(t.target.value),className:"w-full border rounded p-2"})),e.createElement("div",null,e.createElement("label",{className:"block mb-1"},"Schedule Time"),e.createElement("input",{type:"datetime-local",value:w,onChange:t=>C(t.target.value),className:"w-full border rounded p-2",required:!0})),e.createElement("div",{className:"flex space-x-2"},e.createElement("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded"},"Save Changes"),e.createElement("button",{type:"button",onClick:()=>d(null),className:"bg-gray-500 text-white px-4 py-2 rounded"},"Cancel"))))),O&&e.createElement("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},e.createElement(n.div,{className:"bg-white rounded p-4 max-h-full overflow-y-auto w-11/12 md:w-1/2",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8}},e.createElement("h2",{className:"text-xl font-bold mb-4"},"Edit Chat Session"),e.createElement("form",{onSubmit:K,className:"space-y-4"},e.createElement("div",null,e.createElement("label",{className:"block mb-1"},"Start Time"),e.createElement("input",{type:"datetime-local",value:L,onChange:t=>j(t.target.value),className:"w-full border rounded p-2",required:!0})),e.createElement("div",null,e.createElement("label",{className:"block mb-1"},"End Time"),e.createElement("input",{type:"datetime-local",value:A,onChange:t=>P(t.target.value),className:"w-full border rounded p-2",required:!0})),e.createElement("div",{className:"flex space-x-2"},e.createElement("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded"},"Save Changes"),e.createElement("button",{type:"button",onClick:()=>u(null),className:"bg-gray-500 text-white px-4 py-2 rounded"},"Cancel"))))))}export{Y as default};
