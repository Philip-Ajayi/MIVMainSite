import{r as s,R as e,m as d}from"./index-iaa1HczG.js";import{a as b}from"./axios-upsvKRUO.js";const x="AIzaSyBbh5Z3C7Ga1k-mTwpt-T2tQY_XwmO54iM",C="UCacNQvyF_C6X_dHkk0RBRgw",k=()=>{const[E,f]=s.useState([]),[v,m]=s.useState(!0),[p,N]=s.useState(""),[r,u]=s.useState(16),[o,h]=s.useState(16);s.useEffect(()=>{const t=()=>{window.innerWidth>=768&&window.innerWidth<1024?u(15):u(16)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),s.useEffect(()=>{h(t=>t<r?r:t)},[r]),s.useEffect(()=>{(async()=>{try{const A=(await b.get("https://www.googleapis.com/youtube/v3/playlists",{params:{part:"snippet",channelId:C,key:x,maxResults:50}})).data.items.map(l=>b.get("https://www.googleapis.com/youtube/v3/playlistItems",{params:{part:"snippet",playlistId:l.id,key:x,maxResults:50}}).then(n=>n.data.items.map(c=>({videoId:c.snippet.resourceId.videoId,title:c.snippet.title,publishedAt:c.snippet.publishedAt,series:l.snippet.title}))));let y=(await Promise.all(A)).flat();y.sort((l,n)=>new Date(n.publishedAt)-new Date(l.publishedAt)),f(y),m(!1)}catch(i){console.error("Error fetching data from YouTube API:",i),m(!1)}})()},[]);const w=E.filter(t=>{const i=p.toLowerCase();return t.title.toLowerCase().includes(i)||t.series.toLowerCase().includes(i)}),a=w[0],g=w.slice(1),S=g.slice(0,o),I=()=>{h(o+r)};return e.createElement("div",{className:"min-h-screen bg-white py-8 px-4"},e.createElement("div",{className:"max-w-7xl mx-auto"},e.createElement("div",{className:"mb-8"},e.createElement("input",{type:"text",value:p,onChange:t=>N(t.target.value),placeholder:"Search by video or series name...",className:"w-full p-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})),v?e.createElement("div",{className:"text-center text-gray-700"},"Loading sermons..."):e.createElement(e.Fragment,null,a&&e.createElement(d.div,{className:"mb-12 p-6 bg-purple-100 rounded-lg shadow-2xl",initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6}},e.createElement("h2",{className:"text-3xl font-extrabold text-purple-700 mb-4"},"Last Sermon Video"),e.createElement("div",{className:"mb-4"},e.createElement("iframe",{width:"100%",height:"400",src:`https://www.youtube.com/embed/${a.videoId}`,title:a.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"rounded-md"})),e.createElement("div",null,e.createElement("h3",{className:"text-2xl font-bold text-gray-800"},a.title),e.createElement("p",{className:"text-gray-600"},new Date(a.publishedAt).toLocaleDateString()," | Series:"," ",a.series))),e.createElement(d.div,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.15}},hidden:{}}},S.map(t=>e.createElement(d.div,{key:t.videoId,className:"bg-purple-50 rounded-lg shadow-md p-4 hover:shadow-xl transition-shadow",whileHover:{scale:1.03},initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}},e.createElement("div",{className:"mb-3"},e.createElement("iframe",{width:"100%",height:"200",src:`https://www.youtube.com/embed/${t.videoId}`,title:t.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"rounded-md"})),e.createElement("h3",{className:"text-xl font-semibold text-gray-800"},t.title),e.createElement("p",{className:"text-gray-600 text-sm"},new Date(t.publishedAt).toLocaleDateString()),e.createElement("p",{className:"text-gray-700 text-sm mt-1"},"Series: ",t.series)))),o<g.length&&e.createElement("div",{className:"mt-8 text-center"},e.createElement("button",{onClick:I,className:"px-6 py-3 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors"},"Read More")))))};export{k as default};
