import{r as c,R as e,A as D,m as h}from"./index-MH5eDRh5.js";const T=()=>{const[s,E]=c.useState("create"),[n,v]=c.useState({image:"",title:"",venue:"",startDate:"",endDate:"",time:"",description:"",registrationLink:"",televised:!1,televisedLink:""}),[g,y]=c.useState([]),[a,i]=c.useState(null),[x,d]=c.useState(!1),f=async()=>{try{const l=await(await fetch("/event/events")).json();y(l)}catch(t){console.error("Error fetching events:",t)}};c.useEffect(()=>{s==="list"&&f()},[s]);const r=t=>{const{name:l,value:o,type:u,checked:p}=t.target;v(b=>({...b,[l]:u==="checkbox"?p:o}))},N=async t=>{t.preventDefault();try{(await fetch("/event/events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).ok?(alert("Event created successfully!"),v({image:"",title:"",venue:"",startDate:"",endDate:"",time:"",description:"",registrationLink:"",televised:!1,televisedLink:""})):alert("Error creating event")}catch(l){console.error("Error creating event:",l),alert("Error creating event")}},k=async t=>{if(window.confirm("Are you sure you want to delete this event?"))try{(await fetch(`/event/events/${t}`,{method:"DELETE"})).ok?y(g.filter(o=>o._id!==t)):alert("Failed to delete event")}catch(l){console.error("Error deleting event:",l)}},w=t=>{i(t),d(!0)},m=t=>{const{name:l,value:o,type:u,checked:p}=t.target;i(b=>({...b,[l]:u==="checkbox"?p:o}))},C=async t=>{t.preventDefault();try{(await fetch(`/event/events/${a._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok?(alert("Event updated successfully!"),f(),d(!1),i(null)):alert("Error updating event")}catch(l){console.error("Error updating event:",l),alert("Error updating event")}};return e.createElement("div",{className:"container mx-auto p-4"},e.createElement("div",{className:"bg-white shadow rounded-lg"},e.createElement("div",{className:"border-b"},e.createElement("nav",{className:"flex"},e.createElement("button",{className:`px-4 py-2 focus:outline-none ${s==="create"?"border-b-2 border-blue-500":""}`,onClick:()=>E("create")},"Create Event"),e.createElement("button",{className:`px-4 py-2 focus:outline-none ${s==="list"?"border-b-2 border-blue-500":""}`,onClick:()=>E("list")},"List Events"))),e.createElement("div",{className:"p-4"},s==="create"&&e.createElement("form",{onSubmit:N,className:"space-y-4"},e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium"},"Image URL"),e.createElement("input",{type:"text",name:"image",value:n.image,onChange:r,placeholder:"https://example.com/image.jpg",className:"mt-1 block w-full border border-gray-300 rounded-md p-2"})),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium"},"Title"),e.createElement("input",{type:"text",name:"title",value:n.title,onChange:r,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md p-2"})),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium"},"Venue"),e.createElement("input",{type:"text",name:"venue",value:n.venue,onChange:r,placeholder:"Event Venue",className:"mt-1 block w-full border border-gray-300 rounded-md p-2"})),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium"},"Start Date"),e.createElement("input",{type:"date",name:"startDate",value:n.startDate,onChange:r,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md p-2"})),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium"},"End Date"),e.createElement("input",{type:"date",name:"endDate",value:n.endDate,onChange:r,className:"mt-1 block w-full border border-gray-300 rounded-md p-2"}))),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium"},"Time"),e.createElement("input",{type:"text",name:"time",value:n.time,onChange:r,placeholder:"10:00 AM - 2:00 PM",className:"mt-1 block w-full border border-gray-300 rounded-md p-2"})),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium"},"Description"),e.createElement("textarea",{name:"description",value:n.description,onChange:r,rows:"3",className:"mt-1 block w-full border border-gray-300 rounded-md p-2"})),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium"},"Registration Link"),e.createElement("input",{type:"url",name:"registrationLink",value:n.registrationLink,onChange:r,placeholder:"https://example.com/register",className:"mt-1 block w-full border border-gray-300 rounded-md p-2"})),e.createElement("div",{className:"flex items-center space-x-2"},e.createElement("input",{type:"checkbox",name:"televised",checked:n.televised,onChange:r,className:"h-4 w-4"}),e.createElement("label",{className:"text-sm font-medium"},"Televised")),n.televised&&e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium"},"Televised Link"),e.createElement("input",{type:"url",name:"televisedLink",value:n.televisedLink,onChange:r,placeholder:"https://example.com/watch",className:"mt-1 block w-full border border-gray-300 rounded-md p-2"})),e.createElement("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition"},"Create Event")),s==="list"&&e.createElement("div",{className:"overflow-x-auto"},e.createElement("table",{className:"min-w-full divide-y divide-gray-200"},e.createElement("thead",{className:"bg-gray-50"},e.createElement("tr",null,e.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Title"),e.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Start Date"),e.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions"))),e.createElement("tbody",{className:"bg-white divide-y divide-gray-200"},g.map(t=>e.createElement("tr",{key:t._id},e.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},t.title),e.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},new Date(t.startDate).toLocaleDateString()),e.createElement("td",{className:"px-6 py-4 whitespace-nowrap space-x-2"},e.createElement("button",{onClick:()=>w(t),className:"text-indigo-600 hover:text-indigo-900"},"Edit"),e.createElement("button",{onClick:()=>k(t._id),className:"text-red-600 hover:text-red-900"},"Delete"))))))))),e.createElement(D,null,x&&a&&e.createElement(h.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},e.createElement(h.div,{initial:{y:"-100vh"},animate:{y:0},exit:{y:"100vh"},transition:{type:"spring",stiffness:100},className:"bg-white rounded-lg shadow-lg w-11/12 md:w-2/3 lg:w-1/2 max-h-full overflow-y-auto p-6"},e.createElement("h2",{className:"text-xl font-semibold mb-4"},"Edit Event"),e.createElement("form",{onSubmit:C,className:"space-y-4"},e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium"},"Image URL"),e.createElement("input",{type:"text",name:"image",value:a.image,onChange:m,className:"mt-1 block w-full border border-gray-300 rounded-md p-2"})),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium"},"Title"),e.createElement("input",{type:"text",name:"title",value:a.title,onChange:m,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md p-2"})),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium"},"Venue"),e.createElement("input",{type:"text",name:"venue",value:a.venue||"",onChange:m,placeholder:"Event Venue",className:"mt-1 block w-full border border-gray-300 rounded-md p-2"})),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium"},"Start Date"),e.createElement("input",{type:"date",name:"startDate",value:a.startDate.split("T")[0],onChange:m,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md p-2"})),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium"},"End Date"),e.createElement("input",{type:"date",name:"endDate",value:a.endDate?a.endDate.split("T")[0]:"",onChange:m,className:"mt-1 block w-full border border-gray-300 rounded-md p-2"}))),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium"},"Time"),e.createElement("input",{type:"text",name:"time",value:a.time,onChange:m,className:"mt-1 block w-full border border-gray-300 rounded-md p-2"})),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium"},"Description"),e.createElement("textarea",{name:"description",value:a.description,onChange:m,rows:"3",className:"mt-1 block w-full border border-gray-300 rounded-md p-2"})),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium"},"Registration Link"),e.createElement("input",{type:"url",name:"registrationLink",value:a.registrationLink,onChange:m,className:"mt-1 block w-full border border-gray-300 rounded-md p-2"})),e.createElement("div",{className:"flex items-center space-x-2"},e.createElement("input",{type:"checkbox",name:"televised",checked:a.televised,onChange:m,className:"h-4 w-4"}),e.createElement("label",{className:"text-sm font-medium"},"Televised")),a.televised&&e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium"},"Televised Link"),e.createElement("input",{type:"url",name:"televisedLink",value:a.televisedLink,onChange:m,className:"mt-1 block w-full border border-gray-300 rounded-md p-2"})),e.createElement("div",{className:"flex justify-end space-x-4"},e.createElement("button",{type:"button",onClick:()=>{d(!1),i(null)},className:"bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-600 transition"},"Cancel"),e.createElement("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition"},"Update Event")))))))};export{T as default};
