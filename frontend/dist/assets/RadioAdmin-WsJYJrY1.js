import{r as l,R as e,A as le,m as s}from"./index-iaa1HczG.js";function ne(){const[o,G]=l.useState(0),[E,f]=l.useState(""),[y,S]=l.useState(""),[g,N]=l.useState(""),[x,v]=l.useState(""),[F,H]=l.useState([]),[w,p]=l.useState(null),[C,T]=l.useState(""),[O,k]=l.useState(""),[D,I]=l.useState(""),[q,L]=l.useState(""),[j,A]=l.useState(""),[P,U]=l.useState(""),[_,$]=l.useState(""),[Q,V]=l.useState([]),[Z,h]=l.useState(null),[R,z]=l.useState(""),[J,B]=l.useState(""),[K,M]=l.useState("");l.useEffect(()=>{m(),d()},[]);const m=async()=>{try{const a=await(await fetch("/radio/schedule/all")).json();H(a)}catch(t){console.error("Error fetching schedules:",t)}},d=async()=>{try{const a=await(await fetch("/radio/chatsession/all")).json();V(a)}catch(t){console.error("Error fetching chat sessions:",t)}},u=t=>{let a=parseInt(t,10);isNaN(a)&&(a=0);const r=a>=0?"+":"-",n=Math.abs(a).toString().padStart(2,"0");return`${r}${n}:00`},W=async t=>{t.preventDefault();const a=u(x),r=new Date(g+a).toISOString(),n={name:E,description:y,scheduleTime:r,timeZone:a};try{await fetch("/radio/schedule",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),m(),f(""),S(""),N(""),v("")}catch(c){console.error("Error creating schedule:",c)}},X=async t=>{t.preventDefault();const a=u(q),r=new Date(D+a).toISOString(),n={name:C,description:O,scheduleTime:r,timeZone:a};try{await fetch(`/radio/schedule/${w._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),m(),p(null)}catch(c){console.error("Error updating schedule:",c)}},Y=async t=>{if(window.confirm("Are you sure you want to delete this schedule?"))try{await fetch(`/radio/schedule/${t}`,{method:"DELETE"}),m()}catch(a){console.error("Error deleting schedule:",a)}},ee=async t=>{t.preventDefault();const a=u(_),r=new Date(j+a).toISOString(),n=new Date(P+a).toISOString(),c={startTime:r,endTime:n};try{await fetch("/radio/chatsession",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),d(),A(""),U(""),$("")}catch(b){console.error("Error creating chat session:",b)}},te=async t=>{t.preventDefault();const a=u(K),r=new Date(R+a).toISOString(),n=new Date(J+a).toISOString(),c={startTime:r,endTime:n};try{await fetch(`/radio/chatsession/${Z._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),d(),h(null)}catch(b){console.error("Error updating chat session:",b)}},ae=async t=>{if(window.confirm("Are you sure you want to delete this chat session?"))try{await fetch(`/radio/chatsession/${t}`,{method:"DELETE"}),d()}catch(a){console.error("Error deleting chat session:",a)}},i={server:"link.zeno.fm",port:"80",mount:"/qqgdtv5o3isuv",username:"source",password:"BKugcIgK"};return e.createElement("div",{className:"container mx-auto p-4"},e.createElement("div",{className:"flex flex-wrap space-x-4 border-b mb-4"},["Create Schedule","List Schedules","Create Chat Session","List Chat Sessions","Radio Credentials"].map((t,a)=>e.createElement("button",{key:a,onClick:()=>G(a),className:`py-2 px-4 focus:outline-none ${o===a?"border-b-2 border-blue-500 text-blue-500":"text-gray-600"}`},t))),e.createElement(le,{exitBeforeEnter:!0},o===0&&e.createElement(s.div,{key:"create-schedule",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20}},e.createElement("h2",{className:"text-xl font-bold mb-4"},"Create Schedule"),e.createElement("form",{onSubmit:W,className:"space-y-4"},e.createElement("div",null,e.createElement("label",{className:"block mb-1"},"Name"),e.createElement("input",{type:"text",value:E,onChange:t=>f(t.target.value),className:"w-full border rounded p-2",required:!0})),e.createElement("div",null,e.createElement("label",{className:"block mb-1"},"Description"),e.createElement("textarea",{value:y,onChange:t=>S(t.target.value),className:"w-full border rounded p-2"})),e.createElement("div",null,e.createElement("label",{className:"block mb-1"},"Schedule Time"),e.createElement("input",{type:"datetime-local",value:g,onChange:t=>N(t.target.value),className:"w-full border rounded p-2",required:!0})),e.createElement("div",null,e.createElement("label",{className:"block mb-1"},"UTC Offset (e.g., +1, -5)"),e.createElement("input",{type:"text",value:x,onChange:t=>v(t.target.value),className:"w-full border rounded p-2",required:!0})),e.createElement("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded"},"Create Schedule"))),o===1&&e.createElement(s.div,{key:"list-schedules",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20}},e.createElement("h2",{className:"text-xl font-bold mb-4"},"List Schedules"),e.createElement("div",{className:"overflow-x-auto"},e.createElement("table",{className:"min-w-full border"},e.createElement("thead",null,e.createElement("tr",{className:"bg-gray-100"},e.createElement("th",{className:"p-2 border"},"Name"),e.createElement("th",{className:"p-2 border"},"Time"),e.createElement("th",{className:"p-2 border"},"Actions"))),e.createElement("tbody",null,F.map(t=>e.createElement("tr",{key:t._id},e.createElement("td",{className:"p-2 border"},t.name),e.createElement("td",{className:"p-2 border"},new Date(t.scheduleTime).toLocaleDateString()," at"," ",new Date(t.scheduleTime).toLocaleTimeString()),e.createElement("td",{className:"p-2 border space-x-2"},e.createElement("button",{onClick:()=>{p(t),T(t.name),k(t.description),I(new Date(t.scheduleTime).toISOString().slice(0,16)),L(t.timeZone.replace(":00",""))},className:"bg-green-500 text-white px-2 py-1 rounded"},"Edit"),e.createElement("button",{onClick:()=>Y(t._id),className:"bg-red-500 text-white px-2 py-1 rounded"},"Delete")))))))),o===2&&e.createElement(s.div,{key:"create-chat",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20}},e.createElement("h2",{className:"text-xl font-bold mb-4"},"Create Chat Session"),e.createElement("form",{onSubmit:ee,className:"space-y-4"},e.createElement("div",null,e.createElement("label",{className:"block mb-1"},"Start Time"),e.createElement("input",{type:"datetime-local",value:j,onChange:t=>A(t.target.value),className:"w-full border rounded p-2",required:!0})),e.createElement("div",null,e.createElement("label",{className:"block mb-1"},"End Time"),e.createElement("input",{type:"datetime-local",value:P,onChange:t=>U(t.target.value),className:"w-full border rounded p-2",required:!0})),e.createElement("div",null,e.createElement("label",{className:"block mb-1"},"UTC Offset (e.g., +1, -5)"),e.createElement("input",{type:"text",value:_,onChange:t=>$(t.target.value),className:"w-full border rounded p-2",required:!0})),e.createElement("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded"},"Create Chat Session"))),o===3&&e.createElement(s.div,{key:"list-chat",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20}},e.createElement("h2",{className:"text-xl font-bold mb-4"},"List Chat Sessions"),e.createElement("div",{className:"overflow-x-auto"},e.createElement("table",{className:"min-w-full border"},e.createElement("thead",null,e.createElement("tr",{className:"bg-gray-100"},e.createElement("th",{className:"p-2 border"},"Start Time"),e.createElement("th",{className:"p-2 border"},"End Time"),e.createElement("th",{className:"p-2 border"},"Actions"))),e.createElement("tbody",null,Q.map(t=>e.createElement("tr",{key:t._id},e.createElement("td",{className:"p-2 border"},new Date(t.startTime).toLocaleString()),e.createElement("td",{className:"p-2 border"},new Date(t.endTime).toLocaleString()),e.createElement("td",{className:"p-2 border space-x-2"},e.createElement("button",{onClick:()=>{h(t),z(new Date(t.startTime).toISOString().slice(0,16)),B(new Date(t.endTime).toISOString().slice(0,16)),M(t.timeZone?t.timeZone.replace(":00",""):"")},className:"bg-green-500 text-white px-2 py-1 rounded"},"Edit"),e.createElement("button",{onClick:()=>ae(t._id),className:"bg-red-500 text-white px-2 py-1 rounded"},"Delete")))))))),o===4&&e.createElement(s.div,{key:"radio-credentials",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20}},e.createElement("h2",{className:"text-xl font-bold mb-4"},"Radio Credentials"),e.createElement("div",{className:"p-4 border rounded space-y-2"},e.createElement("p",null,e.createElement("strong",null,"Server:")," ",i.server),e.createElement("p",null,e.createElement("strong",null,"Port:")," ",i.port),e.createElement("p",null,e.createElement("strong",null,"Mount:")," ",i.mount),e.createElement("p",null,e.createElement("strong",null,"Username:")," ",i.username),e.createElement("p",null,e.createElement("strong",null,"Password:")," ",i.password)),e.createElement("div",{className:"mt-4"},e.createElement("a",{href:"https://dashboard.zeno.fm",target:"_blank",rel:"noopener noreferrer",className:"bg-blue-500 text-white px-4 py-2 rounded"},"Go to Zeno Dashboard")))),w&&e.createElement("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},e.createElement(s.div,{className:"bg-white rounded p-4 max-h-full overflow-y-auto w-11/12 md:w-1/2",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8}},e.createElement("h2",{className:"text-xl font-bold mb-4"},"Edit Schedule"),e.createElement("form",{onSubmit:X,className:"space-y-4"},e.createElement("div",null,e.createElement("label",{className:"block mb-1"},"Name"),e.createElement("input",{type:"text",value:C,onChange:t=>T(t.target.value),className:"w-full border rounded p-2",required:!0})),e.createElement("div",null,e.createElement("label",{className:"block mb-1"},"Description"),e.createElement("textarea",{value:O,onChange:t=>k(t.target.value),className:"w-full border rounded p-2"})),e.createElement("div",null,e.createElement("label",{className:"block mb-1"},"Schedule Time"),e.createElement("input",{type:"datetime-local",value:D,onChange:t=>I(t.target.value),className:"w-full border rounded p-2",required:!0})),e.createElement("div",null,e.createElement("label",{className:"block mb-1"},"UTC Offset (e.g., +1, -5)"),e.createElement("input",{type:"text",value:q,onChange:t=>L(t.target.value),className:"w-full border rounded p-2",required:!0})),e.createElement("div",{className:"flex space-x-2"},e.createElement("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded"},"Save Changes"),e.createElement("button",{type:"button",onClick:()=>p(null),className:"bg-gray-500 text-white px-4 py-2 rounded"},"Cancel"))))),Z&&e.createElement("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},e.createElement(s.div,{className:"bg-white rounded p-4 max-h-full overflow-y-auto w-11/12 md:w-1/2",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8}},e.createElement("h2",{className:"text-xl font-bold mb-4"},"Edit Chat Session"),e.createElement("form",{onSubmit:te,className:"space-y-4"},e.createElement("div",null,e.createElement("label",{className:"block mb-1"},"Start Time"),e.createElement("input",{type:"datetime-local",value:R,onChange:t=>z(t.target.value),className:"w-full border rounded p-2",required:!0})),e.createElement("div",null,e.createElement("label",{className:"block mb-1"},"End Time"),e.createElement("input",{type:"datetime-local",value:J,onChange:t=>B(t.target.value),className:"w-full border rounded p-2",required:!0})),e.createElement("div",null,e.createElement("label",{className:"block mb-1"},"UTC Offset (e.g., +1, -5)"),e.createElement("input",{type:"text",value:K,onChange:t=>M(t.target.value),className:"w-full border rounded p-2",required:!0})),e.createElement("div",{className:"flex space-x-2"},e.createElement("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded"},"Save Changes"),e.createElement("button",{type:"button",onClick:()=>h(null),className:"bg-gray-500 text-white px-4 py-2 rounded"},"Cancel"))))))}export{ne as default};
