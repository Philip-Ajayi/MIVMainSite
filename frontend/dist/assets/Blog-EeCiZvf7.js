import{r as a,j as e,m as u,L as r}from"./index-zlj08X_R.js";import{a as y}from"./axios-upsvKRUO.js";const b=(l,o)=>{if(!l)return"";const t=l.replace(/<\/?[^>]+(>|$)/g,"");return t.length<=o?t:t.substr(0,o)+"..."};function C(){const[l,o]=a.useState([]),[t,d]=a.useState("All"),[j,p]=a.useState(!0),c=4,[m,x]=a.useState(c);if(a.useEffect(()=>{(async()=>{try{const n=await y.get("/blog/blogs");o(n.data)}catch(n){console.error("Error fetching blogs:",n)}finally{p(!1)}})()},[]),a.useEffect(()=>{x(c)},[t]),j)return e.jsx("p",{className:"text-center py-8",children:"Loading blogs..."});if(l.length===0)return e.jsx("p",{className:"text-center py-8",children:"No blogs found"});const i=l[0],h=Array.from(new Set(l.map(s=>s.category))),N=["All",...h],g=t==="All"?l.slice(1):l.slice(1).filter(s=>s.category===t),f=g.slice(0,m),v=()=>{x(s=>s+c)};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"mb-8",children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:i.image||"https://source.unsplash.com/random/800x600?blog",alt:i.title,className:"w-full h-64 object-cover rounded-lg"}),e.jsx("div",{className:"absolute inset-0 bg-black opacity-40 rounded-lg"}),e.jsxs("div",{className:"absolute bottom-4 left-4 text-white",children:[e.jsx("h1",{className:"text-3xl font-bold",children:i.title}),e.jsx("p",{className:"mt-2 max-w-md",children:b(i.body,150)}),e.jsx(r,{to:`/blog/${i._id}`,className:"inline-block mt-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"See More"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("div",{className:"mb-4 flex space-x-4 overflow-x-auto",children:N.map(s=>e.jsx("button",{onClick:()=>d(s),className:`px-4 py-2 rounded whitespace-nowrap ${t===s?"bg-blue-500 text-white":"bg-gray-200 text-gray-800"}`,children:s},s))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:f.map(s=>e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("img",{src:s.image||"https://source.unsplash.com/random/800x600?blog",alt:s.title,className:"w-full h-40 object-cover"}),e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:s.title}),e.jsx("p",{className:"mt-2 text-gray-600",children:b(s.body,100)}),e.jsx(r,{to:`/blog/${s._id}`,className:"inline-block mt-3 text-blue-500 hover:underline",children:"See More"})]})]},s._id))}),m<g.length&&e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:v,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"See More"})})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Categories"}),e.jsx("ul",{children:h.map(s=>e.jsx("li",{className:"mb-2",children:e.jsx("button",{onClick:()=>d(s),className:"text-blue-500 hover:underline",children:s})},s))}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Posts"}),e.jsx("ul",{children:l.slice(1,4).map(s=>e.jsx("li",{className:"mb-2",children:e.jsx(r,{to:`/blog/${s._id}`,className:"text-gray-800 hover:underline",children:s.title})},s._id))})]})]})})]})]})}export{C as default};
